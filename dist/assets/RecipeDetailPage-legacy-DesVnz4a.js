System.register(["./index-legacy-BLxyB22v.js"],function(e,t){"use strict";var l,a,r,u,n,s,i,c,o,d,f,p,y,v,_,g,h,m,x,k,w,A,b,C,P,R,j,D,E,I,O,S,W,q,z,G;return{setters:[e=>{l=e.d,a=e.u,r=e.r,u=e.c,n=e.E,s=e.ao,i=e.C,c=e.b,o=e.w,d=e.e,f=e.f,p=e.o,y=e.g,v=e.I,_=e.h,g=e.p,h=e.z,m=e.A,x=e.i,k=e.j,w=e.v,A=e.x,b=e.G,C=e.ad,P=e.k,R=e.l,j=e.X,D=e.q,E=e.n,I=e.ap,O=e.a3,S=e.P,W=e.Q,q=e.s,z=e.M,G=e.y}],execute:function(){const t={class:"ion-text-center"},J=["src"];e("default",l({__name:"RecipeDetailPage",setup(e){const l=s(),M=f(),N=a(),Q=r(null),X=u(()=>!(!Q.value||!N.user)&&Q.value.author===N.user.id);function $(){M.push(`/recipes/${l.params.id}/edit`)}function B(e){if(!e)return[];if(Array.isArray(e))return e;if("string"==typeof e)try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}return[]}function F(e){switch(e){case"entrante":return"success";case"principal":return"warning";case"postre":return"tertiary";default:return"medium"}}function H(e){e.target.src="https://via.placeholder.com/300x200?text=Receta"}return n(async()=>{Q.value=null;const e=l.params.id;try{const t=await i.collection("recipes").getOne(e);Q.value=t}catch(t){console.error(t)}}),(e,l)=>(p(),c(d(G),null,{default:o(()=>[y(d(v),null,{default:o(()=>[y(d(_),null,{default:o(()=>[y(d(h),{slot:"start"},{default:o(()=>[y(d(m),{"default-href":"/tabs/home"})]),_:1}),y(d(x),null,{default:o(()=>{var e;return[k(w((null===(e=Q.value)||void 0===e?void 0:e.title)||"Detalle"),1)]}),_:1}),X.value?(p(),c(d(h),{key:0,slot:"end"},{default:o(()=>[y(d(A),{onClick:$},{default:o(()=>[y(d(b),{icon:d(C)},null,8,["icon"])]),_:1})]),_:1})):g("",!0)]),_:1})]),_:1}),Q.value?(p(),c(d(P),{key:0,class:"ion-padding"},{default:o(()=>{return[R("div",t,[R("img",{src:(e=Q.value.image,e&&(e.startsWith("http://")||e.startsWith("https://"))?e:"https://via.placeholder.com/300x200?text=Receta"),onError:H,style:{"max-width":"100%","max-height":"300px","border-radius":"8px"}},null,40,J)]),R("h1",null,w(Q.value.title),1),R("p",null,[y(d(j),{color:F(Q.value.category)},{default:o(()=>[k(w(Q.value.category),1)]),_:1},8,["color"]),y(d(j),{color:"secondary",style:{"margin-left":"8px"}},{default:o(()=>[k(w(Q.value.difficulty),1)]),_:1}),y(d(j),{color:"tertiary",style:{"margin-left":"8px"}},{default:o(()=>[k(w(Q.value.time)+" min",1)]),_:1})]),y(d(D),null,{default:o(()=>[y(d(I),null,{default:o(()=>[y(d(O),null,{default:o(()=>[...l[0]||(l[0]=[k("Ingredientes",-1)])]),_:1})]),_:1}),(p(!0),E(S,null,W(B(Q.value.ingredients),(e,t)=>(p(),c(d(q),{key:t},{default:o(()=>[y(d(O),null,{default:o(()=>[k(w(e),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),y(d(D),null,{default:o(()=>[y(d(I),null,{default:o(()=>[y(d(O),null,{default:o(()=>[...l[1]||(l[1]=[k("Pasos",-1)])]),_:1})]),_:1}),(p(!0),E(S,null,W(B(Q.value.steps),(e,t)=>(p(),c(d(q),{key:t},{default:o(()=>[y(d(O),{class:"ion-text-wrap"},{default:o(()=>[k(w(t+1)+". "+w(e),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})];var e}),_:1})):(p(),c(d(P),{key:1,class:"ion-padding ion-text-center"},{default:o(()=>[y(d(z)),l[2]||(l[2]=R("p",null,"Cargando receta...",-1))]),_:1}))]),_:1}))}}))}}});
