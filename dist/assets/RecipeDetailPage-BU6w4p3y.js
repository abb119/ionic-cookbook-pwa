import{d as P,u as V,r as O,c as S,E as D,ao as T,C as W,b as c,w as t,e,f as H,o as s,g as a,I as j,h as q,p as z,z as h,A as F,i as G,j as o,v as u,x as J,G as M,ad as Q,k as I,l as d,X as m,q as v,n as x,ap as k,a3 as p,P as w,Q as B,s as C,M as U,y as X}from"./index-yNZZBFxb.js";const $={class:"ion-text-center"},K=["src"],ee=P({__name:"RecipeDetailPage",setup(Y){const _=T(),R=H(),g=V(),n=O(null),b=S(()=>!n.value||!g.user?!1:n.value.author===g.user.id);D(async()=>{n.value=null;const r=_.params.id;try{const l=await W.collection("recipes").getOne(r);n.value=l}catch(l){console.error(l)}});function A(){R.push("/recipes/".concat(_.params.id,"/edit"))}function y(r){if(!r)return[];if(Array.isArray(r))return r;if(typeof r=="string")try{const l=JSON.parse(r);return Array.isArray(l)?l:[]}catch(l){return[]}return[]}function E(r){switch(r){case"entrante":return"success";case"principal":return"warning";case"postre":return"tertiary";default:return"medium"}}function L(r){return r&&(r.startsWith("http://")||r.startsWith("https://"))?r:"https://via.placeholder.com/300x200?text=Receta"}function N(r){r.target.src="https://via.placeholder.com/300x200?text=Receta"}return(r,l)=>(s(),c(e(X),null,{default:t(()=>[a(e(j),null,{default:t(()=>[a(e(q),null,{default:t(()=>[a(e(h),{slot:"start"},{default:t(()=>[a(e(F),{"default-href":"/tabs/home"})]),_:1}),a(e(G),null,{default:t(()=>{var i;return[o(u(((i=n.value)==null?void 0:i.title)||"Detalle"),1)]}),_:1}),b.value?(s(),c(e(h),{key:0,slot:"end"},{default:t(()=>[a(e(J),{onClick:A},{default:t(()=>[a(e(M),{icon:e(Q)},null,8,["icon"])]),_:1})]),_:1})):z("",!0)]),_:1})]),_:1}),n.value?(s(),c(e(I),{key:0,class:"ion-padding"},{default:t(()=>[d("div",$,[d("img",{src:L(n.value.image),onError:N,style:{"max-width":"100%","max-height":"300px","border-radius":"8px"}},null,40,K)]),d("h1",null,u(n.value.title),1),d("p",null,[a(e(m),{color:E(n.value.category)},{default:t(()=>[o(u(n.value.category),1)]),_:1},8,["color"]),a(e(m),{color:"secondary",style:{"margin-left":"8px"}},{default:t(()=>[o(u(n.value.difficulty),1)]),_:1}),a(e(m),{color:"tertiary",style:{"margin-left":"8px"}},{default:t(()=>[o(u(n.value.time)+" min",1)]),_:1})]),a(e(v),null,{default:t(()=>[a(e(k),null,{default:t(()=>[a(e(p),null,{default:t(()=>[...l[0]||(l[0]=[o("Ingredientes",-1)])]),_:1})]),_:1}),(s(!0),x(w,null,B(y(n.value.ingredients),(i,f)=>(s(),c(e(C),{key:f},{default:t(()=>[a(e(p),null,{default:t(()=>[o(u(i),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(e(v),null,{default:t(()=>[a(e(k),null,{default:t(()=>[a(e(p),null,{default:t(()=>[...l[1]||(l[1]=[o("Pasos",-1)])]),_:1})]),_:1}),(s(!0),x(w,null,B(y(n.value.steps),(i,f)=>(s(),c(e(C),{key:f},{default:t(()=>[a(e(p),{class:"ion-text-wrap"},{default:t(()=>[o(u(f+1)+". "+u(i),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(s(),c(e(I),{key:1,class:"ion-padding ion-text-center"},{default:t(()=>[a(e(U)),l[2]||(l[2]=d("p",null,"Cargando receta...",-1))]),_:1}))]),_:1}))}});export{ee as default};
