import{d as x,u as y,r as f,a as B,c,b as C,e as a,f as L,o as v,w as t,g as l,I as h,h as N,i as S,j as d,k as q,l as r,m as P,n as T,p as R,q as U,s as g,t as b,v as _,x as I,y as j}from"./index-yNZZBFxb.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={key:0,class:"error-message"},F={class:"ion-padding-top"},H=x({__name:"LoginPage",setup(M){const w=L(),i=y(),s=f(""),n=f(""),e=B({email:"",password:""}),m=c(()=>i.loading),p=c(()=>i.error);function k(){return e.email="",e.password="",s.value?s.value.includes("@")||(e.email="Email inválido"):e.email="El email es obligatorio",n.value?n.value.length<4&&(e.password="La contraseña debe tener al menos 4 caracteres"):e.password="La contraseña es obligatoria",!e.email&&!e.password}async function V(){if(k())try{await i.login(s.value,n.value),w.replace("/tabs/home")}catch(E){}}return(E,o)=>(v(),C(a(j),null,{default:t(()=>[l(a(h),null,{default:t(()=>[l(a(N),null,{default:t(()=>[l(a(S),null,{default:t(()=>[...o[2]||(o[2]=[d("Iniciar Sesión",-1)])]),_:1})]),_:1})]),_:1}),l(a(q),{class:"ion-padding"},{default:t(()=>[o[4]||(o[4]=r("div",{class:"header-info"},[r("h1",null,"Bienvenido"),r("p",null,"Entra en CookBook")],-1)),r("form",{onSubmit:P(V,["prevent"])},[l(a(U),null,{default:t(()=>[l(a(g),null,{default:t(()=>[l(a(b),{label:"Email","label-placement":"floating",fill:"outline",type:"email",modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=u=>s.value=u),required:""},null,8,["modelValue"])]),_:1}),l(a(g),null,{default:t(()=>[l(a(b),{label:"Contraseña","label-placement":"floating",fill:"outline",type:"password",modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=u=>n.value=u),required:""},null,8,["modelValue"])]),_:1})]),_:1}),p.value||e.email||e.password?(v(),T("div",D,_(p.value||e.email||e.password),1)):R("",!0),r("div",F,[l(a(I),{expand:"block",type:"submit",disabled:m.value},{default:t(()=>[d(_(m.value?"Entrando...":"Entrar"),1)]),_:1},8,["disabled"]),l(a(I),{expand:"block",fill:"clear","router-link":"/register"},{default:t(()=>[...o[3]||(o[3]=[d(" ¿No tienes cuenta? Regístrate ",-1)])]),_:1})])],32)]),_:1})]),_:1}))}}),J=A(H,[["__scopeId","data-v-b7fe6e10"]]);export{J as default};
